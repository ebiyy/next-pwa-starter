# bun testへの移行タスク

## 1. フォルダー構造の整理
- [ ] testsディレクトリを再構成
  - [ ] e2eディレクトリの作成と既存テストの移動
  - [ ] integrationディレクトリの作成
  - [ ] unitディレクトリの作成
  - [ ] configディレクトリの作成
- [ ] configディレクトリの作成
  - [ ] test/bun-test.tsの作成
  - [ ] test/playwright.tsの作成
- [ ] scriptsディレクトリの作成
  - [ ] test/setup.tsの作成
  - [ ] test/cleanup.tsの作成

## 2. テスト設定の実装
- [ ] テスト用Next.js設定の作成
  - [ ] config/test/next.config.tsの実装
  - [ ] テスト環境変数の設定
- [ ] bunテストランナーの設定
  - [ ] テストマッチャーの設定
  - [ ] テストタイプごとの実行設定
  - [ ] 環境変数の制御

## 3. CLIコマンドの実装
- [ ] package.jsonのスクリプト更新
  ```json
  {
    "scripts": {
      "test": "bun test",
      "test:watch": "bun test --watch",
      "test:ui": "bun test --ui",
      "test:e2e": "bun test e2e/*",
      "test:unit": "bun test unit/*",
      "test:integration": "bun test integration/*"
    }
  }
  ```
- [ ] bunのテストコマンド実装
  - [ ] フィルター機能の実装
  - [ ] 環境指定機能の実装
  - [ ] デバッグモードの実装

## 4. CI/CD対応
- [ ] GitHub Actionsの更新
  - [ ] テストワークフローの修正
  - [ ] キャッシュ設定の最適化
  - [ ] 環境変数の設定

## 5. ドキュメント更新
- [ ] README.mdの更新
  - [ ] 新しいテストコマンドの説明
  - [ ] テストの書き方ガイド
  - [ ] CI/CDの設定方法
- [ ] CONTRIBUTING.mdの更新
  - [ ] テスト規約の更新
  - [ ] PRチェックリストの更新

## 6. 既存テストの移行
- [ ] E2Eテストの移行
  - [ ] page.spec.tsの移行
  - [ ] pwa.spec.tsの移行
- [ ] 新規テストの追加
  - [ ] コンポーネントのユニットテスト
  - [ ] APIの統合テスト

## 7. パフォーマンス最適化
- [ ] テスト実行の並列化設定
- [ ] キャッシュ戦略の実装
- [ ] CI実行時間の最適化

## 8. 検証
- [ ] ローカルでのテスト実行確認
- [ ] CI/CDパイプラインの動作確認
- [ ] 各種コマンドオプションの動作確認