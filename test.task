# bun testへの移行タスク

## 1. フォルダー構造の整理
- [x] testsディレクトリを再構成
  - [x] e2eディレクトリの作成と既存テストの移動
  - [x] integrationディレクトリの作成
  - [x] unitディレクトリの作成
  - [x] configディレクトリの作成
- [x] configディレクトリの作成
  - [x] test/bun-test.tsの作成
  - [x] test/playwright.tsの作成
- [x] scriptsディレクトリの作成
  - [x] test/setup.tsの作成
  - [x] test/cleanup.tsの作成

## 2. テスト設定の実装
- [x] テスト用Next.js設定の作成
  - [x] config/test/next.config.tsの実装
  - [x] テスト環境変数の設定
- [x] bunテストランナーの設定
  - [x] テストマッチャーの設定
  - [x] テストタイプごとの実行設定
  - [x] 環境変数の制御

## 3. CLIコマンドの実装
- [x] package.jsonのスクリプト更新
  ```json
  {
    "scripts": {
      "test": "bun test",
      "test:watch": "bun test --watch",
      "test:ui": "bun test --ui",
      "test:e2e": "bun test e2e/*",
      "test:unit": "bun test unit/*",
      "test:integration": "bun test integration/*"
    }
  }
  ```
- [x] bunのテストコマンド実装
  - [x] フィルター機能の実装
  - [x] 環境指定機能の実装
  - [x] デバッグモードの実装

## 4. CI/CD対応
- [x] GitHub Actionsの更新
  - [x] テストワークフローの修正
  - [x] キャッシュ設定の最適化
  - [x] 環境変数の設定

## 5. ドキュメント更新
- [x] README.mdの更新
  - [x] 新しいテストコマンドの説明
  - [x] テストの書き方ガイド
  - [x] CI/CDの設定方法
- [x] CONTRIBUTING.mdの更新
  - [x] テスト規約の更新
  - [x] PRチェックリストの更新

## 6. 既存テストの移行
- [x] E2Eテストの移行
  - [x] page.spec.tsの移行
  - [x] pwa.spec.tsの移行
- [x] 新規テストの追加
  - [x] コンポーネントのユニットテスト
  - [x] APIの統合テスト

## 7. パフォーマンス最適化
- [x] テスト実行の並列化設定
- [x] キャッシュ戦略の実装
- [x] CI実行時間の最適化

## 8. 検証
- [ ] ローカルでのテスト実行確認
- [ ] CI/CDパイプラインの動作確認
- [ ] 各種コマンドオプションの動作確認